<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="googlebot" content="NOODP" /><meta name="google-site-verification" content="nSYeDgyKM9mw5CWcZuD0xu7iSWXlJijAlg9rcxVOYf4" /><meta name="google-site-verification" content="6UEaC3SWhpGQvqRnSJIEm2swxXpM5Adn4dxZhFsNdw0" /><link rel="stylesheet" href="/v3_5_7/css/rabbit.css" type="text/css" /><style xmlns:html="http://www.w3.org/1999/xhtml" xmlns:doc="http://www.rabbitmq.com/namespaces/ad-hoc/doc">
    body { 
    background: 
    url(/v3_5_7/img/previous-bg.png);
   }
  </style><link rel="icon" type="/image/vnd.microsoft.icon" href="/v3_5_7/favicon.ico" /><link rel="stylesheet" href="/v3_5_7/css/tutorial.css" type="text/css" /><script type="text/javascript" src="/v3_5_7/js/site.js"></script><script type="text/javascript" src="/v3_5_7/js/ga-bootstrap.js"></script><title>RabbitMQ - Installing on Generic Unix</title>
    
  </head>
  <body><div id="outerContainer"><div id="rabbit-logo"><a href="/v3_5_7/"><img src="/v3_5_7/img/rabbitmq_logo_strap.png" alt="RabbitMQ" width="253" height="53" /></a></div><div id="pivotal-logo"><a href="http://pivotal.io/"><img src="/v3_5_7/img/logo-pivotal-118x25.png" alt="Pivotal" width="118" height="25" /></a></div><div id="nav-search"><ul class="mainNav"><li><a href="/v3_5_7/features.html">Features</a></li><li><a href="/v3_5_7/download.html" class="selected">Installation</a></li><li><a href="/v3_5_7/documentation.html">Docs</a></li><li><a href="/v3_5_7/getstarted.html">Tutorials</a></li><li><a href="/v3_5_7/services.html">Support</a></li><li><a href="/v3_5_7/community.html">Community</a></li><li><a href="https://groups.google.com/forum/#!msg/rabbitmq-users/UuvnsOV7yS4/14b8pHcs8I0J">We're Hiring</a></li></ul></div><div class="nav-separator"></div><div id="left-content"><h1>Installing on Generic Unix</h1>
    <div class="docSection"><a name="generic-unix" id="generic-unix"></a>
      <h3>Download the Server</h3>
      <table class="downloads" border="0" cellpadding="0" cellspacing="0"><tr><th class="desc">Description</th><th>Download </th><th> </th></tr>
        <tr><td class="desc" id="">
	  Generic Unix release (tar.gz, from rabbitmq.com)
        </td><td><a class="adownload" href="/releases/rabbitmq-server/v3.5.7/rabbitmq-server-generic-unix-3.5.7.tar.gz">rabbitmq-server-generic-unix-3.5.7.tar.gz</a></td><td class="signature"><a href="/releases/rabbitmq-server/v3.5.7/rabbitmq-server-generic-unix-3.5.7.tar.gz.asc">(Signature)</a></td></tr>
        <tr><td class="desc" id="">
	  Generic Unix release (tar.gz, from github.com)
        </td><td><a class="adownload" href="https://github.com/rabbitmq/rabbitmq-server/releases/download/rabbitmq_v3_5_7/rabbitmq-server-generic-unix-3.5.7.tar.gz">rabbitmq-server-generic-unix-3.5.7.tar.gz</a></td><td class="signature"><a href="/releases//rabbitmq-server-generic-unix-3.5.7.tar.gz.asc">(Signature)</a></td></tr>        
      </table>

      <h2 class="docHeading">Generic Unix or Linux (BSD, Mac OS X)</h2>

      <div class="docSubsection"><a name="install-generic-unix" id="install-generic-unix"></a>
        <h3 class="docHeading">Install the Server</h3>
        <p>
          Install a recent version of Erlang.
        </p>
        <p>
          Download
          <span class="code ">rabbitmq-server-generic-unix-3.5.7.tar.gz</span>
          from the link above.
        </p>
        <p xmlns="">
          Contained in the tarball is a directory named
          <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq_server-3.5.7</span>. You should
          extract this into somewhere appropriate for application
          binaries on your system.  The <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin</span> directory
          will be found in this directory.
        </p>
      </div>

      <div class="docSubsection"><a name="running-generic-unix" id="running-generic-unix"></a>
  <h3 class="docHeading">Run RabbitMQ Server</h3>
  <dl xmlns="" class="instructions">
    <dt>Start the Server</dt>
    <dd>
      <p>
        Invoke the <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin/rabbitmq-server</span> shell script. This
        displays a short banner message, concluding with the message
        "completed with <i>[n]</i> plugins.", indicating that the
        RabbitMQ broker has been started successfully.
      </p>
      <p>
        You can also start the server in "detached" mode with
        <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq-server -detached</span>, in which case the
        server process runs in the background.
      </p>
    </dd>
    <dt>Configure the Server</dt>
    <dd>
      You can <a href="configure.html#customise-general-unix-environment">customise
      the RabbitMQ environment</a> by setting environment
      variables in <span xmlns="http://www.w3.org/1999/xhtml" class="code "><span xmlns="" class="envvar">$RABBITMQ_HOME</span>/etc/rabbitmq/rabbitmq-env.conf</span>. Server
      components may be configured, too, in the <a href="configure.html#configuration-file">RabbitMQ configuration
      file</a> located at <span xmlns="http://www.w3.org/1999/xhtml" class="code "><span xmlns="" class="envvar">$RABBITMQ_HOME</span>/etc/rabbitmq/rabbitmq.config</span>.
      Neither of these files exist after installation.
    </dd>
  </dl>
</div>
      <div class="docSubsection"><a name="" id=""></a>
    <h3 class="docHeading">File Locations</h3>
    <p xmlns="">
        The Generic Unix tarball is designed as far as possible to
        run without requiring configuration changes or special
        permissions. The directories and files used by default are
        all held under the installation
        directory <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq_server-3.5.7</span>
        which is in the <span class="envvar">$RABBITMQ_HOME</span>
        variable in the scripts.
    </p>
    <p xmlns="">
        Should you wish to install RabbitMQ Server such that it uses
        the conventional system directories for configuration,
        database, log files, plugins etc, it is possible to do this.
    </p>
    <p xmlns="">
        Find the line:
        <pre class="sourcecode">SYS_PREFIX=${RABBITMQ_HOME}</pre>
        in the <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin/rabbitmq-defaults</span> script and
        change this line to:
        <pre class="sourcecode">SYS_PREFIX=</pre>
        but do not modify any other line in this script.
    </p>
    <p xmlns="">
        <em>Note: </em>After this modification the default directory
        locations may require different permissions. In particular
        <strong>RABBITMQ_MNESIA_BASE</strong> and
        <strong>RABBITMQ_LOG_BASE</strong> may need to be created (the
        server will attempt to create them at startup), and the
        <strong>RABBITMQ_ENABLED_PLUGINS_FILE</strong> will need
        to be writable (for <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq-plugins</span>).  The
        configuration files will be looked for
        in <span xmlns="http://www.w3.org/1999/xhtml" class="code ">/etc/rabbitmq/</span>.
    </p>
</div>
    </div>

    <div class="docSection"><a name="selinux-ports" id="selinux-ports"></a>
  <h2 class="docHeading">Port Access</h2>
  <p xmlns="">
    SELinux and similar mechanisms may prevent RabbitMQ from binding to a port. When that happens,
    RabbitMQ will fail to start. Make sure the following ports can be opened:

    <ul>
  <li>4369 (epmd), 25672 (Erlang distribution) </li>
  <li>5672, 5671 (AMQP 0-9-1 without and with TLS)</li>
  <li>15672 (if management plugin is enabled)</li>
  <li>61613, 61614 (if STOMP is enabled)</li>
  <li>1883, 8883 (if MQTT is enabled)</li>
</ul>

    It is possible to <a href="/v3_5_7/configure.html">configure RabbitMQ</a> to use different ports.
  </p>
</div>
    <div class="docSection"><a name="default-user-access" id="default-user-access"></a>
  <h2 class="docHeading">Default user access</h2>
  <p xmlns="">
    The broker creates a user <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span> with password
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span>. Unconfigured clients will in general use these
    credentials. <strong>By default, these credentials can only be
    used when connecting to the broker as localhost</strong> so you
    will need to take action before connecting fromn any other
    machine.
  </p>
  <p xmlns="">
    See the documentation on <a href="access-control.html">access
    control</a> for information on how to create more users, delete
    the <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span> user, or allow remote access to the
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span> user.
  </p>
</div>
    <div class="docSection">
  <h2 class="docHeading">Managing the Broker</h2>
  <p xmlns="">
    To stop the server or check its status, etc., you can invoke
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin/rabbitmqctl</span> (as the user running
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq-server</span>). All <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmqctl</span>
    commands will report the node absence if no broker is running.
  </p>
  <ul xmlns="">
    <li>Invoke <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmqctl stop</span> to stop the server.</li>
    <li>Invoke <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmqctl status</span> to check whether it is
      running.</li>
  </ul>
  <p xmlns="">
    More <a href="man/rabbitmqctl.1.man.html">info on rabbitmqctl</a>.
  </p>
</div>

    <div class="docSection"><a name="max-open-files-limit" id="max-open-files-limit"></a>
      <h2 class="docHeading">Controlling System Limits</h2>
      <div class="docSubsection"><a name="max-open-files-intro" id="max-open-files-intro"></a>
  <p xmlns="">
    RabbitMQ installations running production workloads may need system
    limits and kernel parameters tuning in order to handle a decent number of
    concurrent connections and queues. The main setting that needs adjustment
    is the max number of open files, also known as <span xmlns="http://www.w3.org/1999/xhtml" class="code ">ulimit -n</span>.
    The default value on many operating systems is too low for a messaging
    broker (eg. 1024 on several Linux distributions). We recommend allowing
    for at least 65536 file descriptors for user <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq</span> in
    production environments. 4096 should be sufficient for most development
    workloads.
  </p>
</div>

      <p>
        There are two limits in play: the maximum number of open files the OS kernel
        allows (<span class="code ">fs.file-max</span> on Linux, <span class="code ">kern.maxfilesperproc</span> on OS X and FreeBSD) and the per-user limit (<span class="code ">ulimit -n</span>).
        The former must be higher than the latter.
      </p>
      <p>
        For more information about controlling the system-wide limit,
        please refer to the excellent <a href="http://docs.basho.com/riak/latest/ops/tuning/open-files-limit/">Riak guide on open file limit tuning</a>.
      </p>

      <div class="docSubsection"><a name="verifying-limits" id="verifying-limits"></a>
  <h3 class="docHeading">Verifying the Limit</h3>
  <p xmlns="">
    <a href="management.html">RabbitMQ management UI</a> displays the number of file descriptors available
    for it to use on the Overview tab.
<pre class="sourcecode">rabbitmqctl status</pre>
    includes the same value.
  </p>
  <p xmlns="">
    The following command

<pre class="sourcecode">
ulimit -a
</pre>

    can be used to display effective limits for the current user. There may be more convenient
    OS-specific ways of doing that for a running process, such as the <span xmlns="http://www.w3.org/1999/xhtml" class="code ">/proc</span> filesystem on Linux.
  </p>
</div>
      <div class="docSubsection"><a name="chef-puppet-bosh" id="chef-puppet-bosh"></a>
  <h3 class="docHeading">Configuration Management Tools</h3>
  <p xmlns="">
    Configuration management tools (e.g. Chef, Puppet, BOSH) provide assistance
    with system limit tuning. Our <a href="devtools.html#devops-tools">developer tools</a> guide
    lists relevant modules and projects.
  </p>
</div>
    </div>

  </div><div id="right-nav"></div><div class="clear"></div><div class="pageFooter"><p class="righter"><a href="/v3_5_7/sitemap.html">Sitemap</a> |
        <a href="/v3_5_7/contact.html">Contact</a></p><p id="copyright">
        Copyright © 2015 Pivotal Software, Inc. All rights reserved
        | <a href="http://pivotal.io/privacy-policy">Privacy Policy</a>
        | <a href="https://github.com/rabbitmq/rabbitmq-website/">This Site is Open Source</a>        
        | <a href="https://groups.google.com/forum/#!msg/rabbitmq-users/UuvnsOV7yS4/14b8pHcs8I0J">We're Hiring</a></p></div></div></body>
</html>
