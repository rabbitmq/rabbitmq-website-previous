<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="googlebot" content="NOODP" /><meta name="google-site-verification" content="nSYeDgyKM9mw5CWcZuD0xu7iSWXlJijAlg9rcxVOYf4" /><meta name="google-site-verification" content="6UEaC3SWhpGQvqRnSJIEm2swxXpM5Adn4dxZhFsNdw0" /><link rel="stylesheet" href="/v3_4_x/css/rabbit.css" type="text/css" /><style xmlns:html="http://www.w3.org/1999/xhtml" xmlns:doc="http://www.rabbitmq.com/namespaces/ad-hoc/doc">
    body { 
    background: 
    url(/v3_4_x/img/previous-bg.png);
   }
  </style><link rel="icon" type="/image/vnd.microsoft.icon" href="/v3_4_x/favicon.ico" /><link rel="stylesheet" href="/v3_4_x/css/tutorial.css" type="text/css" /><script type="text/javascript" src="/v3_4_x/js/site.js"></script><script type="text/javascript" src="/v3_4_x/js/ga-bootstrap.js"></script><title>RabbitMQ - Installing on Mac</title>
    
  </head>
  <body><div id="outerContainer"><div id="rabbit-logo"><a href="/v3_4_x/"><img src="/v3_4_x/img/rabbitmq_logo_strap.png" alt="RabbitMQ" width="253" height="53" /></a></div><div id="pivotal-logo"><a href="http://pivotal.io/"><img src="/v3_4_x/img/logo-pivotal-118x25.png" alt="Pivotal" width="118" height="25" /></a></div><div id="nav-search"><ul class="mainNav"><li><a href="/v3_4_x/features.html">Features</a></li><li><a href="/v3_4_x/download.html" class="selected">Installation</a></li><li><a href="/v3_4_x/documentation.html">Documentation</a></li><li><a href="/v3_4_x/getstarted.html">Tutorials</a></li><li><a href="/v3_4_x/services.html">Services</a></li><li><a href="/v3_4_x/community.html">Community</a></li></ul></div><div class="nav-separator"></div><div id="left-content"><h1>Installing on Mac</h1>
    <div class="docSection"><a name="standalone-mac" id="standalone-mac"></a>
      <h3>Download the Server</h3>
      <table class="downloads" border="0" cellpadding="0" cellspacing="0"><tr><th class="desc">Description</th><th>Download </th><th> </th></tr>
        <tr><td class="desc" id="">
	  Packaged for Mac systems (tar.gz) shipping Erlang 17.1
        </td><td><a class="adownload" href="/releases/rabbitmq-server/v3.4.4/rabbitmq-server-mac-standalone-3.4.4.tar.gz">rabbitmq-server-mac-standalone-3.4.4.tar.gz</a></td><td class="signature"><a href="/releases/rabbitmq-server/v3.4.4/rabbitmq-server-mac-standalone-3.4.4.tar.gz.asc">(Signature)</a></td></tr>
      </table>

      <h2 class="docHeading">Standalone Mac</h2>

      <div class="docSubsection"><a name="install-standalone" id="install-standalone"></a>
        <h3 class="docHeading">Install the Server</h3>
        <p>
          This build of RabbitMQ includes an Erlang runtime. That means you
          don't need to install Erlang to run RabbitMQ. The build is known to work
          with <strong>OS X</strong> versions <strong>10.6.4</strong> and above.
          If you are curious about how this works you can read more
          <a href="http://www.erlang.org/doc/design_principles/release_structure.html">here</a>.
        </p>
        <p>
          Download
          <span class="code ">rabbitmq-server-mac-standalone-3.4.4.tar.gz</span>
          from the link above.
        </p>
        <p xmlns="">
          Contained in the tarball is a directory named
          <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq_server-3.4.4</span>. You should
          extract this into somewhere appropriate for application
          binaries on your system.  The <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin</span> directory
          will be found in this directory.
        </p>
      </div>

      <div class="docSubsection"><a name="running-generic-unix" id="running-generic-unix"></a>
  <h3 class="docHeading">Run RabbitMQ Server</h3>
  <dl xmlns="" class="instructions">
    <dt>Start the Server</dt>
    <dd>
      <p>
        Invoke the <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin/rabbitmq-server</span> shell script. This
        displays a short banner message, concluding with the message
        "completed with <i>[n]</i> plugins.", indicating that the
        RabbitMQ broker has been started successfully.
      </p>
      <p>
        You can also start the server in "detached" mode with
        <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq-server -detached</span>, in which case the
        server process runs in the background.
      </p>
    </dd>
    <dt>Configure the Server</dt>
    <dd>
      You can <a href="configure.html#customise-general-unix-environment">customise
      the RabbitMQ environment</a> by setting environment
      variables in <span xmlns="http://www.w3.org/1999/xhtml" class="code "><span xmlns="" class="envvar">$RABBITMQ_HOME</span>/etc/rabbitmq/rabbitmq-env.conf</span>. Server
      components may be configured, too, in the <a href="configure.html#configuration-file">RabbitMQ configuration
      file</a> located at <span xmlns="http://www.w3.org/1999/xhtml" class="code "><span xmlns="" class="envvar">$RABBITMQ_HOME</span>/etc/rabbitmq/rabbitmq.config</span>.
      Neither of these files exist after installation.
    </dd>
  </dl>
</div>
      <div class="docSubsection"><a name="" id=""></a>
    <h3 class="docHeading">File Locations</h3>
    <p xmlns="">
        The Generic Unix tarball is designed as far as possible to
        run without requiring configuration changes or special
        permissions. The directories and files used by default are
        all held under the installation
        directory <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq_server-3.4.4</span>
        which is in the <span class="envvar">$RABBITMQ_HOME</span>
        variable in the scripts.
    </p>
    <p xmlns="">
        Should you wish to install RabbitMQ Server such that it uses
        the conventional system directories for configuration,
        database, log files, plugins etc, it is possible to do this.
    </p>
    <p xmlns="">
        Find the line:
        <pre class="sourcecode">SYS_PREFIX=${RABBITMQ_HOME}</pre>
        in the <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin/rabbitmq-defaults</span> script and
        change this line to:
        <pre class="sourcecode">SYS_PREFIX=</pre>
        but do not modify any other line in this script.
    </p>
    <p xmlns="">
        <em>Note: </em>After this modification the default directory
        locations may require different permissions. In particular
        <strong>RABBITMQ_MNESIA_BASE</strong> and
        <strong>RABBITMQ_LOG_BASE</strong> may need to be created (the
        server will attempt to create them at startup), and the
        <strong>RABBITMQ_ENABLED_PLUGINS_FILE</strong> will need
        to be writable (for <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq-plugins</span>).  The
        configuration files will be looked for
        in <span xmlns="http://www.w3.org/1999/xhtml" class="code ">/etc/rabbitmq/</span>.
    </p>
</div>

    </div>

    <div class="docSection"><a name="default-user-access" id="default-user-access"></a>
  <h2 class="docHeading">Default user access</h2>
  <p xmlns="">
    The broker creates a user <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span> with password
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span>. Unconfigured clients will in general use these
    credentials. <strong>By default, these credentials can only be
    used when connecting to the broker as localhost</strong> so you
    will need to take action before connecting fromn any other
    machine.
  </p>
  <p xmlns="">
    See the documentation on <a href="access-control.html">access
    control</a> for information on how to create more users, delete
    the <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span> user, or allow remote access to the
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">guest</span> user.
  </p>
</div>
    <div class="docSection">
  <h2 class="docHeading">Managing the Broker</h2>
  <p xmlns="">
    To stop the server or check its status, etc., you can invoke
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sbin/rabbitmqctl</span> (as the user running
    <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq-server</span>). All <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmqctl</span>
    commands will report the node absence if no broker is running.
  </p>
  <ul xmlns="">
    <li>Invoke <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmqctl stop</span> to stop the server.</li>
    <li>Invoke <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmqctl status</span> to check whether it is
      running.</li>
  </ul>
  <p xmlns="">
    More <a href="man/rabbitmqctl.1.man.html">info on rabbitmqctl</a>.
  </p>
</div>
    <div class="docSection"><a name="osx-max-open-files-limit" id="osx-max-open-files-limit"></a>
    <h2 class="docHeading">Controlling System Limits on OS X</h2>
    <div class="docSubsection"><a name="max-open-files-intro" id="max-open-files-intro"></a>
  <p xmlns="">
    RabbitMQ installations running production workloads may need system
    limits and kernel parameters tuning in order to handle a decent number of
    concurrent connections and queues. The main setting that needs adjustment
    is the max number of open files, also known as <span xmlns="http://www.w3.org/1999/xhtml" class="code ">ulimit -n</span>.
    The default value on many operating systems is too low for a messaging
    broker (eg. 1024 on several Linux distributions). We recommend allowing
    for at least 65536 file descriptors for user <span xmlns="http://www.w3.org/1999/xhtml" class="code ">rabbitmq</span> in
    production environments. 4096 should be sufficient for most development
    workloads.
  </p>
</div>

    <p xmlns="">
      There are two limits in play: the maximum number of open files the OS kernel
      allows (<span xmlns="http://www.w3.org/1999/xhtml" class="code ">kern.maxfilesperproc</span>) and the per-user limit (<span xmlns="http://www.w3.org/1999/xhtml" class="code ">ulimit -n</span>).
      The former must be higher than the latter.
    </p>
    <p xmlns="">
      To adjust the per-user limit for RabbitMQ, there are several options:

      <ul>
        <li>
          Invoke <span xmlns="http://www.w3.org/1999/xhtml" class="code ">ulimit -S -n 4096</span> before starting RabbitMQ in foreground.
        </li>
        <li>
          Edit the <a href="http://www.rabbitmq.com/configure.html">rabbitmq-env.conf</a> to
          invoke <span xmlns="http://www.w3.org/1999/xhtml" class="code ">ulimit</span> before the service is started.
        </li>
        <li>
          <a href="http://docs.basho.com/riak/latest/ops/tuning/open-files-limit/#Mac-OS-X">Configure max open files limit</a> via <span xmlns="http://www.w3.org/1999/xhtml" class="code ">launchctl limit</span>
        <span xmlns="http://www.w3.org/1999/xhtml" class="code ">/etc/launchd.conf</span>.
        </li>
      </ul>
    </p>
    <p xmlns="">
      Note that limits cannot be changed for running OS processes.
    </p>
    <p xmlns="">
      For more information about controlling
      <span xmlns="http://www.w3.org/1999/xhtml" class="code ">kern.maxfilesperproc</span> with <span xmlns="http://www.w3.org/1999/xhtml" class="code ">sysctl</span>,
      please refer to <a href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man8/sysctl.8.html">sysctl(8)</a>
      page in Apple documentation.
    </p>

    <div class="docSubsection"><a name="verifying-limits" id="verifying-limits"></a>
  <h3 class="docHeading">Verifying the Limit</h3>
  <p xmlns="">
    <a href="management.html">RabbitMQ management UI</a> displays the number of file descriptors available
    for it to use on the Overview tab.
<pre class="sourcecode">rabbitmqctl status</pre>
    includes the same value.
  </p>
  <p xmlns="">
    The following command

<pre class="sourcecode">
launchctl limit
</pre>

    can be used to display effective limits for the current user.
  </p>
</div>
    <div class="docSubsection"><a name="chef-puppet-bosh" id="chef-puppet-bosh"></a>
  <h3 class="docHeading">Configuration Management Tools</h3>
  <p xmlns="">
    Configuration management tools (e.g. Chef, Puppet, BOSH) provide assistance
    with system limit tuning. Our <a href="devtools.html#devops-tools">developer tools</a> guide
    lists relevant modules and projects.
  </p>
</div>
</div>
  </div><div id="right-nav"></div><div class="clear"></div><div class="pageFooter"><p class="righter"><a href="/v3_4_x/sitemap.html">Sitemap</a> |
        <a href="/v3_4_x/contact.html">Contact</a></p><p id="copyright">
        Copyright © 2015 Pivotal Software, Inc. All rights reserved
        | <a href="http://pivotal.io/privacy-policy">Privacy Policy</a></p></div></div></body>
</html>
